<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi ti·∫øt ph√≤ng tr·ªç - Home Ph·∫°m</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 py-2 sm:px-6 lg:px-8">
        <div class="flex mx-auto justify-between items-center h-16">
          <a
            href="https://delunss2.github.io/HomePham/"
            class="block w-[16rem] lg:w-[14rem] h-[4rem]"
          >
            <figure class="flex items-center mx-auto sm:mx-0 w-full h-full">
              <img
                class="w-full h-full object-cover"
                src="./images/logo-prve.png"
                alt="Logo Home Ph·∫°m"
              />
            </figure>
          </a>

          <nav class="hidden md:flex space-x-8">
            <a href="./index.html" class="text-gray-700 hover:text-green-600"
              >Trang Ch·ªß</a
            >
            <a
              href="https://zalo.me/0878808885"
              target="_blank"
              class="text-gray-700 hover:text-green-600"
              >Li√™n H·ªá</a
            >
          </nav>
        </div>
      </div>
    </header>

    <!-- Room Detail -->
    <main class="max-w-5xl mx-auto p-6 md:p-12">
      <!-- ·∫¢nh ch√≠nh v√† ·∫£nh nh·ªè -->
      <div class="mb-8">
        <div
          id="mainImage"
          class="h-48 sm:h-64 md:h-80 lg:h-96 bg-cover bg-center rounded-lg shadow mb-4"
        ></div>
        <div
          class="grid grid-cols-2 sm:grid-cols-4 gap-2"
          id="thumbnailImages"
        ></div>
      </div>

      <!-- Video Tour Section -->
      <div class="mb-8" id="videoSection">
        <h2 class="text-lg sm:text-xl font-semibold mb-4">
          üé• Video Tour Ph√≤ng
        </h2>
        <div class="relative bg-gray-100 rounded-lg overflow-hidden">
          <video
            id="roomVideo"
            class="w-full h-48 sm:h-64 md:h-80 lg:h-96 object-cover"
            controls
            preload="none"
            playsinline
            webkit-playsinline
            poster=""
            muted
          >
            <source src="" type="video/mp4" />
            Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video HTML5.
          </video>
          <div
            id="videoPlaceholder"
            class="absolute inset-0 flex items-center justify-center bg-gray-200 text-gray-500"
          >
            <div class="text-center">
              <div class="text-4xl mb-2">üé¨</div>
              <p class="text-sm sm:text-base px-4">
                Video tour ph√≤ng s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t s·ªõm
              </p>
              <p class="text-xs text-gray-400 mt-2 px-4">
                Tr√™n iPhone: Nh·∫•n v√†o video ƒë·ªÉ ph√°t
              </p>
            </div>
          </div>
          <!-- Play button overlay for better mobile experience -->
          <div
            id="playButton"
            class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 cursor-pointer"
            style="display: none"
          >
            <div class="bg-white bg-opacity-90 rounded-full p-4">
              <svg
                class="w-8 h-8 text-gray-800"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path d="M8 5v14l11-7z" />
              </svg>
            </div>
          </div>
        </div>
      </div>

      <!-- Th√¥ng tin ch√≠nh -->
      <div
        class="flex flex-col lg:flex-row justify-between items-start mb-8 gap-4 lg:gap-6"
      >
        <div class="w-full lg:w-auto">
          <h1
            id="roomTitle"
            class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2"
          ></h1>
          <div
            class="flex items-center text-yellow-400 text-base sm:text-lg"
            id="roomRating"
          ></div>
        </div>
        <div class="flex gap-2 text-left lg:text-right w-full lg:w-auto">
          <div
            id="roomPrice"
            class="text-2xl sm:text-3xl text-green-600 font-bold mb-1"
          ></div>
          <div class="text-gray-600 self-end">/ th√°ng</div>
        </div>
      </div>

      <!-- Th√¥ng tin chi ti·∫øt -->
      <div
        class="grid grid-cols-1 sm:grid-cols-3 bg-gray-100 p-4 rounded-lg mb-8 text-center gap-4 sm:gap-0"
      >
        <div>
          <div class="text-2xl">üë•</div>
          <div class="text-sm text-gray-600">S·ª©c ch·ª©a</div>
          <div class="font-semibold" id="roomCapacity"></div>
        </div>
        <div>
          <div class="text-2xl">üìê</div>
          <div class="text-sm text-gray-600">Di·ªán t√≠ch</div>
          <div class="font-semibold" id="roomArea"></div>
        </div>
        <div>
          <div class="text-2xl">üìÖ</div>
          <div class="text-sm text-gray-600">C√≥ s·∫µn</div>
          <div class="font-semibold" id="roomDays"></div>
        </div>
      </div>

      <!-- M√¥ t·∫£ -->
      <section class="mb-8">
        <h2 class="text-lg sm:text-xl font-semibold mb-3">M√¥ t·∫£ chi ti·∫øt</h2>
        <p
          id="roomDescription"
          class="text-gray-700 leading-relaxed text-sm sm:text-base"
        ></p>
      </section>

      <!-- Ti·ªán nghi -->
      <section class="mb-10">
        <h2 class="text-lg sm:text-xl font-semibold mb-3">Ti·ªán nghi</h2>
        <div class="flex flex-wrap gap-2" id="roomFacilities"></div>
      </section>

      <!-- N√∫t h√†nh ƒë·ªông -->
      <div class="flex flex-col sm:flex-row gap-4">
        <a
          class="flex-1 bg-green-60 text-center hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium bg-green-600"
          href="tel:0878808885"
        >
          üìû Li√™n H·ªá</a
        >

        <a
          href="https://zalo.me/0878808885"
          target="_blank"
          rel="noopener noreferrer"
          class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium text-center"
        >
          üí¨ Chat v·ªõi ch·ªß tr·ªç
        </a>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h4 class="text-xl font-bold mb-4">C√¥ng ty TNHH Home Ph·∫°m</h4>
            <p class="text-gray-400 mb-4">
              ƒê·ªãa ch·ªâ: 162/38 Nguy·ªÖn VƒÉn L∆∞·ª£ng, P. G√≤ V·∫•p, TP. HCM
            </p>
          </div>
          <div>
            <h5 class="text-lg font-semibold mb-4">Th√¥ng Tin Li√™n H·ªá</h5>
            <div class="space-y-2 text-gray-400">
              <p>
                <strong class="text-white">Hotline: </strong
                ><a href="tel:0799827979" class="text-blue-500 hover:underline"
                  >0799 82 7979</a
                >
              </p>
              <p>
                <strong class="text-white">Email: </strong>homepham.co@gmail.com
              </p>
            </div>
          </div>
          <div>
            <h5 class="text-lg font-semibold mb-4">Th·ªùi Gian L√†m Vi·ªác</h5>
            <div class="space-y-2 text-gray-400">
              <p>8:00 - 20:00 (T·∫•t c·∫£ c√°c ng√†y trong tu·∫ßn)</p>
            </div>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>&copy; 2025 C√¥ng ty TNHH Home Ph·∫°m. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
        </div>
      </div>
    </footer>

    <a
      href="https://zalo.me/0878808885"
      target="_blank"
      rel="noopener noreferrer"
      class="fixed bottom-4 right-4 bg-white shadow-lg rounded-full p-3 hover:scale-105 transition-transform z-50"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/9/91/Icon_of_Zalo.svg"
        alt="Zalo"
        class="w-8 h-8"
      />
    </a>
  </body>
</html>

<script>
  const data = [
    {
      id: 1,
      title: "G√í V·∫§P",
      type: "Ph√≤ng ƒë∆°n",
      price: "4,500,000‚Ç´",
      description:
        "Ph√≤ng tr·ªç cao c·∫•p t·∫°i trung t√¢m th√†nh ph·ªë, ƒë·∫ßy ƒë·ªß ti·ªán nghi, g·∫ßn tr∆∞·ªùng h·ªçc v√† khu mua s·∫Øm.",
      rating: 5,
      days: 15,
      capacity: 2,
      area: "25m¬≤",
      image: "./images/p1-1.jpg",
      video: "./videos/p1.mp4", // Video tour ph√≤ng
      images: [
        "./images/p1-1.jpg",
        "./images/p1-2.jpg",
        "./images/p1-3.jpg",
        "./images/p1-4.jpg",
      ],
      detailDescription:
        "537 Nguy·ªÖn Oanh, Ph∆∞·ªùng G√≤ V·∫•p - Ph√≤ng tr·ªç cao c·∫•p v·ªõi ƒë·∫ßy ƒë·ªß ti·ªán nghi hi·ªán ƒë·∫°i. V·ªã tr√≠ thu·∫≠n l·ª£i g·∫ßn tr∆∞·ªùng h·ªçc, ch·ª£ v√† c√°c tuy·∫øn xe bu√Ωt ch√≠nh. Ph√≤ng ƒë∆∞·ª£c trang b·ªã ƒë·∫ßy ƒë·ªß n·ªôi th·∫•t: gi∆∞·ªùng, t·ªß, b√†n l√†m vi·ªác, ƒëi·ªÅu h√≤a, t·ªß l·∫°nh, m√°y gi·∫∑t. C√≥ ban c√¥ng tho√°ng m√°t, an ninh 24/7, thang m√°y v√† ch·ªó ƒë·ªÉ xe ri√™ng.",
      facilities: [
        "ƒêi·ªÅu h√≤a",
        "T·ªß l·∫°nh",
        "M√°y gi·∫∑t",
        "WiFi",
        "Ban c√¥ng",
        "Thang m√°y",
        "B·∫£o v·ªá 24/7",
        "Ch·ªó ƒë·ªÉ xe",
      ],
    },
    {
      id: 2,
      title: "G√í V·∫§P",
      type: "Ph√≤ng ƒë√¥i",
      price: "4,800,000‚Ç´",
      description:
        "Nh√† tr·ªç gia ƒë√¨nh ·∫•m c√∫ng, c√≥ s√¢n ƒë·ªÉ xe, g·∫ßn ch·ª£ v√† tr·∫°m xe bu√Ωt thu·∫≠n ti·ªán.",
      rating: 5,
      days: 8,
      capacity: 2,
      area: "20m¬≤",
      image: "./images/p2-1.jpg",
      video: "./videos/p2.mp4",
      images: [
        "./images/p2-1.jpg",
        "./images/p2-2.jpg",
        "./images/p2-3.jpg",
        "./images/p2-4.jpg",
      ],
      detailDescription:
        "162 Nguy·ªÖn VƒÉn L∆∞·ª£ng, P. G√≤ V·∫•p - Nh√† tr·ªç gia ƒë√¨nh ·∫•m c√∫ng v·ªõi kh√¥ng gian s·ªëng th√¢n thi·ªán v√† tho·∫£i m√°i. Ph√≤ng s·∫°ch s·∫Ω, tho√°ng m√°t v·ªõi c·ª≠a s·ªï l·ªõn. C√≥ s√¢n chung ƒë·ªÉ xe m√°y, g·∫ßn ch·ª£ G√≤ V·∫•p, tr·∫°m xe bu√Ωt v√† nhi·ªÅu ti·ªán √≠ch. Ch·ªß nh√† th√¢n thi·ªán, h·ªó tr·ª£ t·∫≠n t√¨nh. Gi√° c·∫£ ph·∫£i chƒÉng, ph√π h·ª£p v·ªõi sinh vi√™n v√† ng∆∞·ªùi lao ƒë·ªông.",
      facilities: [
        "ƒêi·ªÅu h√≤a",
        "WiFi",
        "S√¢n ƒë·ªÉ xe",
        "G·∫ßn ch·ª£",
        "G·∫ßn xe bu√Ωt",
        "Ch·ªß nh√† th√¢n thi·ªán",
        "An ninh t·ªët",
        "Gi√° r·∫ª",
      ],
    },
  ];

  // L·∫•y ID t·ª´ URL
  const params = new URLSearchParams(window.location.search);
  const id = parseInt(params.get("id"));

  // T√¨m ph√≤ng theo id
  const room = data.find((r) => r.id === id);
  if (!room) {
    document.body.innerHTML =
      "<div class='text-center mt-20 text-red-500'>Ph√≤ng kh√¥ng t·ªìn t·∫°i.</div>";
    throw new Error("Room not found");
  }

  // G√°n d·ªØ li·ªáu
  document.getElementById("roomTitle").textContent = `Ph√≤ng ${room.title}`;
  document.getElementById("roomPrice").textContent = room.price;
  document.getElementById("roomDescription").textContent =
    room.detailDescription;
  document.getElementById(
    "roomCapacity"
  ).textContent = `${room.capacity} ng∆∞·ªùi`;
  document.getElementById("roomArea").textContent = room.area;
  document.getElementById("roomDays").textContent = `${room.days} ng√†y`;

  // Rating stars
  const ratingContainer = document.getElementById("roomRating");
  let stars =
    "‚òÖ".repeat(Math.floor(room.rating)) +
    "‚òÜ".repeat(5 - Math.floor(room.rating));
  ratingContainer.innerHTML = `${stars} <span class="text-gray-600 ml-2">(${room.rating}/5)</span>`;

  // Main image
  const mainImage = document.getElementById("mainImage");
  mainImage.style.backgroundImage = `url('${room.image}')`;

  // Thumbnails
  const thumbnailContainer = document.getElementById("thumbnailImages");
  thumbnailContainer.innerHTML = "";
  room.images.forEach((imgUrl, index) => {
    const thumb = document.createElement("div");
    thumb.className = `h-16 sm:h-20 bg-cover bg-center rounded cursor-pointer ${
      index === 0
        ? "border-2 border-green-500"
        : "hover:border-2 hover:border-green-500"
    }`;
    thumb.style.backgroundImage = `url('${imgUrl}')`;
    thumb.onclick = () => {
      mainImage.style.backgroundImage = `url('${imgUrl}')`;
      document
        .querySelectorAll("#thumbnailImages div")
        .forEach((div) => div.classList.remove("border-green-500"));
      thumb.classList.add("border-green-500");
    };
    thumbnailContainer.appendChild(thumb);
  });

  // Facilities
  const facilitiesContainer = document.getElementById("roomFacilities");
  facilitiesContainer.innerHTML = "";
  room.facilities.forEach((fac) => {
    const span = document.createElement("span");
    span.className =
      "bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm";
    span.textContent = fac;
    facilitiesContainer.appendChild(span);
  });

  // Video handling - improved for iPhone/iOS
  const videoElement = document.getElementById("roomVideo");
  const videoPlaceholder = document.getElementById("videoPlaceholder");
  const playButton = document.getElementById("playButton");

  // Function to check if device is iOS
  function isIOS() {
    return (
      /iPad|iPhone|iPod/.test(navigator.userAgent) ||
      (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1)
    );
  }

  if (room.video) {
    // Try to load video with better error handling
    const videoSource = videoElement.querySelector("source");
    videoSource.src = room.video;
    videoElement.poster = room.image;

    // Enhanced video loading for iOS
    videoElement.oncanplay = () => {
      videoPlaceholder.style.display = "none";
      videoElement.style.display = "block";

      // Show play button overlay for iOS devices
      if (isIOS()) {
        playButton.style.display = "flex";

        // Add click handler for iOS
        playButton.onclick = (e) => {
          e.preventDefault();
          playButton.style.display = "none";
          videoElement.play().catch((err) => {
            console.log("Video play failed:", err);
            // Fallback: show placeholder again
            videoPlaceholder.style.display = "flex";
            videoElement.style.display = "none";
          });
        };

        // Hide play button when video starts playing
        videoElement.onplay = () => {
          playButton.style.display = "none";
        };
      }
    };

    videoElement.onerror = () => {
      console.log("Video failed to load");
      videoPlaceholder.style.display = "flex";
      videoElement.style.display = "none";
      playButton.style.display = "none";
    };

    // Load the video
    videoElement.load();
  } else {
    // No video specified, show placeholder
    videoPlaceholder.style.display = "flex";
    videoElement.style.display = "none";
    playButton.style.display = "none";
  }

  function changeImage(imageUrl) {
    const mainImage = document.getElementById("mainImage");
    mainImage.style.backgroundImage = `url('${imageUrl}')`;
  }
</script>
